<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="[object Object]">
<link href="https://fonts.googleapis.com/css?family=Noto+Serif+SC|Roboto&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous" defer></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"microprism.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.23.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="本文参考实例熟悉Verilog HDL基本语法，描述FPGA程序设计本质和思路。基于Vivado创建工程，野火ZYNQ-7020开发板实操。">
<meta property="og:type" content="article">
<meta property="og:title" content="FPGA-03-Verilog语法">
<meta property="og:url" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/index.html">
<meta property="og:site_name" content="Young&#39;s Blog">
<meta property="og:description" content="本文参考实例熟悉Verilog HDL基本语法，描述FPGA程序设计本质和思路。基于Vivado创建工程，野火ZYNQ-7020开发板实操。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251124205938660.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251124210134581.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251124205259801.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251124205716339.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251124210523205.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251124210659965.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251125233723518.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251126010426003.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251126000431448.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251126005538068.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251130235512504.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251201000949737.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251201001428537.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251201112507974.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251201113020891.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251201115138968.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251201113930888.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251201124709370.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251201125318946.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251201120750531.png">
<meta property="og:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251201020744383.png">
<meta property="article:published_time" content="2025-11-24T11:59:15.000Z">
<meta property="article:modified_time" content="2026-01-11T12:42:57.808Z">
<meta property="article:author" content="Youngs">
<meta property="article:tag" content="FPGA">
<meta property="article:tag" content="Verilog">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/image-20251124205938660.png">


<link rel="canonical" href="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/","path":"2025/11/24/FPGA-03-Verilog_Syntax/","title":"FPGA-03-Verilog语法"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>FPGA-03-Verilog语法 | Young's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YXT2GQNX59"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-YXT2GQNX59","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js" defer></script>

  <script src="/js/third-party/analytics/baidu-analytics.js" defer></script>
  <script async src="https://hm.baidu.com/hm.js?e31b8387d0a02f9c3c7c74c21377751b"></script>







  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.1.0/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.3.1/pdfobject.min.js","integrity":"sha256-jI72I8ZLVflVOisZIOaLvRew3tyvzeu6aZXFm7P7dEo="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js" defer></script>




  <script src="/js/third-party/pace.js" defer></script>


  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js" defer></script>



  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/rss.xml" title="Young's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Young's Blog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">不完全体攻城狮</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">23</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">18</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">25</span></a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E8%83%8C%E6%99%AF"><span class="nav-number">1.</span> <span class="nav-text">开发背景</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95%E5%BA%94%E7%94%A8"><span class="nav-number">2.</span> <span class="nav-text">语法应用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E7%A8%8B%E5%BA%8F"><span class="nav-number">2.1.</span> <span class="nav-text">模块程序</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97io"><span class="nav-number">2.1.1.</span> <span class="nav-text">模块IO　</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#latch%E9%94%81%E5%AD%98"><span class="nav-number">2.1.2.</span> <span class="nav-text">Latch锁存</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E8%B0%83%E7%94%A8"><span class="nav-number">2.1.3.</span> <span class="nav-text">模块调用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%BF%E7%9C%9F%E7%A8%8B%E5%BA%8F"><span class="nav-number">2.2.</span> <span class="nav-text">仿真程序</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-number">2.2.1.</span> <span class="nav-text">初始化</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B5%8B%E5%80%BC%E6%96%B9%E5%BC%8F"><span class="nav-number">2.3.</span> <span class="nav-text">赋值方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%98%BB%E5%A1%9E%E8%B5%8B%E5%80%BC"><span class="nav-number">2.3.1.</span> <span class="nav-text">阻塞赋值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%9E%E9%98%BB%E5%A1%9E%E8%B5%8B%E5%80%BC"><span class="nav-number">2.3.2.</span> <span class="nav-text">非阻塞赋值</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%99%84%E5%BD%95"><span class="nav-number">3.</span> <span class="nav-text">附录</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#sr%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="nav-number">3.1.</span> <span class="nav-text">SR触发器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#d%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="nav-number">3.2.</span> <span class="nav-text">D触发器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jk%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="nav-number">3.3.</span> <span class="nav-text">JK触发器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-number">4.</span> <span class="nav-text">参考资料</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Youngs"
      src="/images/walk.png">
  <p class="site-author-name" itemprop="name">Youngs</p>
  <div class="site-description" itemprop="description">我等采石之人，当怀大教堂之愿景~</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">25</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/MicroPrism" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;MicroPrism" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:2632688012@qq.com" title="E-Mail → mailto:2632688012@qq.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/405856572?spm_id_from=333.1369.0.0" title="BiliBili → https:&#x2F;&#x2F;space.bilibili.com&#x2F;405856572?spm_id_from&#x3D;333.1369.0.0" rel="noopener me" target="_blank"><i class="fab fa-bilibili fa-fw"></i>BiliBili</a>
      </span>
      <span class="links-of-author-item">
        <a href="/rss.xml" title="RSS → &#x2F;rss.xml" rel="noopener me"><i class="fa fa-rss fa-fw"></i>RSS</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
          链接
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://csdiy.wiki/" title="https:&#x2F;&#x2F;csdiy.wiki&#x2F;" rel="noopener" target="_blank">CS自学指南</a>
            </li>
        </ul>
      </div>
    </div>

    
      <script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
      <script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
      <div class="widget-wrap">
        <h3 class="widget-title">Tags</h3>
        <div id="myCanvasContainer" class="widget tagcloud">
            <canvas width="250" height="250" id="resCanvas" style="width:100%">
                <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/873%E6%8E%A7%E5%88%B6%E5%B7%A5%E7%A8%8B/" rel="tag">873控制工程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Altium-Designer/" rel="tag">Altium Designer</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FPGA/" rel="tag">FPGA</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo%E5%8D%9A%E5%AE%A2/" rel="tag">Hexo博客</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PCB/" rel="tag">PCB</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpaceDesk/" rel="tag">SpaceDesk</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP-IP/" rel="tag">TCP&#x2F;IP</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Verilog/" rel="tag">Verilog</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ZYNQ/" rel="tag">ZYNQ</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BF%A1%E5%8F%B7%E5%AE%8C%E6%95%B4%E6%80%A7/" rel="tag">信号完整性</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%AF%E5%B1%8F%E6%89%A9%E5%B1%95/" rel="tag">副屏扩展</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%97%E6%98%8C%E5%A4%A7%E5%AD%A6/" rel="tag">南昌大学</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/" rel="tag">常见问题</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%88/" rel="tag">栈</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%81%E9%87%8F%E5%8D%A1/" rel="tag">流量卡</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%B9%E6%80%A7%E9%98%BB%E6%8A%97/" rel="tag">特性阻抗</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E6%80%A7%E8%A1%A8/" rel="tag">线性表</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E5%8A%A8%E5%8D%8F%E5%95%86/" rel="tag">自动协商</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%98%9F%E5%88%97/" rel="tag">队列</a><span class="tag-list-count">1</span></li></ul>
            </canvas>
        </div>
      </div>
    


  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/walk.png">
      <meta itemprop="name" content="Youngs">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Young's Blog">
      <meta itemprop="description" content="我等采石之人，当怀大教堂之愿景~">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="FPGA-03-Verilog语法 | Young's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          FPGA-03-Verilog语法
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    
    
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-11-24 19:59:15" itemprop="dateCreated datePublished" datetime="2025-11-24T19:59:15+08:00">2025-11-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2026-01-11 20:42:57" itemprop="dateModified" datetime="2026-01-11T20:42:57+08:00">2026-01-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%94%B5%E5%AD%90%E7%B1%BB/" itemprop="url" rel="index"><span itemprop="name">电子类</span></a>
        </span>
          /
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%94%B5%E5%AD%90%E7%B1%BB/FPGA/" itemprop="url" rel="index"><span itemprop="name">FPGA</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>13 分钟</span>
    </span>



</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>本文参考实例熟悉Verilog
HDL基本语法，描述FPGA程序设计本质和思路。基于Vivado创建工程，野火ZYNQ-7020开发板实操。</p>
<span id="more"></span>
<h1 id="开发背景">开发背景</h1>
<p>软件：Vivado 2018.3</p>
<p>开发板：野火 Xilinx-ZYNQ-7000开发板-皓月开发平台</p>
<p>芯片：XC7Z020CLG400-2</p>
<p>工程目录：</p>
<ul>
<li><p>doc：存放visio图形文件，包括模块IO、波形图、原理图（查引脚）、RTL电路</p></li>
<li><p>Vivado_Prj：项目文件</p></li>
</ul>
<p>基本开发流程：</p>
<ol type="1">
<li>模块划分：明确需要什么功能，需要什么输入输出信号</li>
<li>波形绘制：FPGA本质为数字电路，设计之前明确IO真值表。</li>
<li>代码编写：设计模块</li>
<li>仿真分析：设计testbench文件，<strong>但是仿真结果也不等于实测</strong></li>
<li>RTL综合：实际的代码转化为RTL电路，不同的语句使用的底层电路不相同</li>
<li>添加约束：分配FPGA引脚、时序约束等</li>
<li>硬件联调：上板验证</li>
</ol>
<h1 id="语法应用">语法应用</h1>
<p>FPGA程序是并行执行的，所有always块可视作同步执行，设计不同的块就是设计always触发条件。</p>
<h2 id="模块程序">模块程序</h2>
<h3 id="模块io">模块IO　</h3>
<p>仍然拿C的函数举例，通常会包含ｎ个固定的输入量，0或1个输出量。FPGA则使用input、output、output做区分。
通常输入量为wire型。输出则需要对应代码，通常使用组合逻辑时为reg型，特殊使用assign赋值则为wire型。</p>
<h3 id="latch锁存">Latch锁存</h3>
<p>程序设计不当时，综合后的RTL电路会产生Latch锁存器，在同步电路中应当避免。其危害如下：</p>
<ul>
<li>毛刺敏感</li>
<li>无法异步复位，上电后为不定态</li>
<li>静态时序分析复杂化</li>
</ul>
<p>组合逻辑中产生Latch的条件：</p>
<ul>
<li><p>if-else语句缺少末尾的else</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(&#123;in1,in2,in3&#125;==<span class="number">3&#x27;b000</span>)	</span><br><span class="line">    out = <span class="number">8&#x27;b0000_0001</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(&#123;in1,in2,in3&#125;==<span class="number">3&#x27;b001</span>)</span><br><span class="line">    out = <span class="number">8&#x27;b0000_0010</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(&#123;in1,in2,in3&#125;==<span class="number">3&#x27;b010</span>)</span><br><span class="line">    out = <span class="number">8&#x27;b0000_0100</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(&#123;in1,in2,in3&#125;==<span class="number">3&#x27;b011</span>)</span><br><span class="line">    out = <span class="number">8&#x27;b0000_1000</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(&#123;in1,in2,in3&#125;==<span class="number">3&#x27;b100</span>)</span><br><span class="line">    out = <span class="number">8&#x27;b0001_0000</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(&#123;in1,in2,in3&#125;==<span class="number">3&#x27;b101</span>)</span><br><span class="line">    out = <span class="number">8&#x27;b0010_0000</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(&#123;in1,in2,in3&#125;==<span class="number">3&#x27;b110</span>)</span><br><span class="line">    out = <span class="number">8&#x27;b0100_0000</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(&#123;in1,in2,in3&#125;==<span class="number">3&#x27;b111</span>)</span><br><span class="line">    out = <span class="number">8&#x27;b1000_0000</span>;</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">    out = <span class="number">8&#x27;b0000_0000</span>;</span><br></pre></td></tr></table></figure>
<div>
<center>
<img src="image-20251124205938660.png" alt="image can't load." style="zoom:100%"> <br> if-else语句遍历所有条件
</center>
</div>
<p>若缺少最终的else语句，则会在尾部产生锁存：</p>
<div>
<center>
<img src="image-20251124210134581.png" alt="image can't load." style="zoom:100%"> <br> if-else语句缺少else
</center>
</div></li>
<li><p>case语句在条件未遍历时缺少default</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span>(&#123;in1,in2,in3&#125;)</span><br><span class="line">		<span class="number">3&#x27;b000</span>:	out = <span class="number">8&#x27;b0000_0001</span>;</span><br><span class="line">		<span class="number">3&#x27;b001</span>:	out = <span class="number">8&#x27;b0000_0010</span>;</span><br><span class="line">		<span class="number">3&#x27;b010</span>:	out = <span class="number">8&#x27;b0000_0100</span>;</span><br><span class="line">		<span class="number">3&#x27;b011</span>:	out = <span class="number">8&#x27;b0000_1000</span>;</span><br><span class="line">		<span class="number">3&#x27;b100</span>:	out = <span class="number">8&#x27;b0001_0000</span>;</span><br><span class="line">		<span class="number">3&#x27;b101</span>:	out = <span class="number">8&#x27;b0010_0000</span>;</span><br><span class="line">		<span class="number">3&#x27;b110</span>:	out = <span class="number">8&#x27;b0100_0000</span>;</span><br><span class="line">		<span class="number">3&#x27;b111</span>:	out = <span class="number">8&#x27;b1000_0000</span>;</span><br><span class="line">		<span class="keyword">default</span>:out = <span class="number">8&#x27;b0000_0000</span>;</span><br><span class="line">	<span class="keyword">endcase</span>	</span><br></pre></td></tr></table></figure>
<div>
<center>
<img src="image-20251124205259801.png" alt="image can't load." style="zoom:75%"> <br> case语句遍历所有条件
</center>
</div>
<p>而将</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3&#x27;b111</span>:	out = <span class="number">8&#x27;b1000_0000</span>;</span><br><span class="line"><span class="keyword">default</span>:out = <span class="number">8&#x27;b0000_0000</span>;</span><br></pre></td></tr></table></figure>
<p>两句注释之后生成的RTL电路则带有Latch</p>
<div>
<center>
<img src="image-20251124205716339.png" alt="image can't load." style="zoom:75%"> <br> case语句缺少条件
</center>
</div></li>
<li><p>输出变量给自身赋值</p>
<p>变量给自身赋值，其逻辑类似于保持自身，直到某个条件触发后开始变化。恰好与锁存器的功能一致。</p>
<div>
<center>
<img src="image-20251124210523205.png" alt="image can't load." style="zoom:100%"> <br> if-else语句out=out赋值
</center>
</div>
<div>
<center>
<img src="image-20251124210659965.png" alt="image can't load." style="zoom:50%"> <br> case语句out = out赋值
</center>
</div></li>
</ul>
<p>参考本节的图片，也能发现不同语句综合出的电路不相同，if-else内涵顺序结构，其RTL是多个二选一选择器串连，case语句并行选择，只有一个ROM块。</p>
<h3 id="模块调用">模块调用</h3>
<p>类似于函数复用，不过C中通常是编译器来把所有相同的函数名定位到一个地址。而FPGA作为“电路语言”需要为每个模块分配不同的电路，即所谓的实例化。</p>
<p>假设有以下半加器模块：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> half_adder(</span><br><span class="line">	<span class="keyword">input</span> <span class="keyword">wire</span> in1,</span><br><span class="line">    <span class="keyword">input</span> <span class="keyword">wire</span> in2,</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">wire</span> sum,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">wire</span> count</span><br><span class="line">);</span><br><span class="line">    <span class="comment">//code block</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<p>如果想在其基础上设计全加器，只需要实例化两次（两个电路）：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> full_adder(</span><br><span class="line">	<span class="keyword">input</span> <span class="keyword">wire</span> in1,</span><br><span class="line">    <span class="keyword">input</span> <span class="keyword">wire</span> in2,</span><br><span class="line">    <span class="keyword">input</span> <span class="keyword">wire</span> cin,</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">wire</span> sum,</span><br><span class="line">    <span class="keyword">output</span> <span class="keyword">wire</span> count</span><br><span class="line">);</span><br><span class="line">    <span class="keyword">wire</span> h0_sum;</span><br><span class="line">    <span class="keyword">wire</span> h0_count;</span><br><span class="line">    <span class="keyword">wire</span> h1_sum;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">assign</span> count = (h0_count|h1_count);</span><br><span class="line">        </span><br><span class="line">    half_adder half_adder_inst0(</span><br><span class="line">        <span class="variable">.in1</span>(in1),</span><br><span class="line">        <span class="variable">.in2</span>(in2),</span><br><span class="line">        <span class="variable">.sum</span>(h0_sum),</span><br><span class="line">        <span class="variable">.count</span>(h0_count)</span><br><span class="line">    );</span><br><span class="line">    </span><br><span class="line">    half_adder half_adder_inst0(</span><br><span class="line">        <span class="variable">.in1</span>(cin),</span><br><span class="line">        <span class="variable">.in2</span>(h0_sum),</span><br><span class="line">        <span class="variable">.sum</span>(sum),</span><br><span class="line">        <span class="variable">.count</span>(h1_count)</span><br><span class="line">    );</span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<p>只需要添加几个中间变量，如<code>wire h0_sum;</code>，就可以将某个实例的输出给到另一个输入。</p>
<h2 id="仿真程序">仿真程序</h2>
<p>仿真程序称之为testbench，名称为tb_XX.v以做区分。</p>
<p>设计某个.v功能模块的仿真程序，类似于顶层模块对底层的调用，不预留参数而仅仅做实例化。通过reg、wire型变量引入inst中。</p>
<h3 id="初始化">初始化</h3>
<p>使用initial语句块设计输入量的初始状态，使用begin-end块涵盖多个语句。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    sys_clk = <span class="number">1</span>;</span><br><span class="line">    sys_rst_n &lt;= <span class="number">0</span>;</span><br><span class="line">    #<span class="number">20</span></span><br><span class="line">    sys_rst_n &lt;= <span class="number">1</span>;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>可使用如下语句输出调试信息：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    <span class="built_in">$timeformat</span>(-<span class="number">9</span>,<span class="number">0</span>,<span class="string">&quot;ns&quot;</span>,<span class="number">6</span>);	<span class="comment">//时间格式：单位10^-9，小数点后0位，对应“ns”，至少输出6次</span></span><br><span class="line">    <span class="built_in">$monitor</span>(<span class="string">&quot;@time %t: out = %b.&quot;</span>,<span class="built_in">$time</span>,out);	<span class="comment">//输出某个时间值下，out量输出值</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h2 id="赋值方式">赋值方式</h2>
<p>Verilog内分为阻塞赋值(“=”)与非阻塞赋值(“&lt;=”)。</p>
<ul>
<li>对于组合逻辑，常常使用阻塞赋值，使用时序逻辑时，采用非阻塞赋值。</li>
<li>同一always块中尽量用同一赋值方式。</li>
<li>同一always块尽量只修改一个变量。</li>
</ul>
<p>假设有以下代码，定义中间量in_reg，对比阻塞与非阻塞的差异：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> blocking(</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">input</span>	<span class="keyword">wire</span>			sys_clk,</span><br><span class="line">	<span class="keyword">input</span>	<span class="keyword">wire</span>			sys_rst_n,</span><br><span class="line">	<span class="keyword">input</span>	<span class="keyword">wire</span>	[<span class="number">1</span>:<span class="number">0</span>]	in,</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">output</span>	<span class="keyword">reg</span>		[<span class="number">1</span>:<span class="number">0</span>]	out</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">	<span class="keyword">reg</span>	[<span class="number">1</span>:<span class="number">0</span>]	in_reg;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">always</span>@(<span class="keyword">posedge</span> sys_clk <span class="keyword">or</span> <span class="keyword">negedge</span> sys_rst_n)</span><br><span class="line">	<span class="keyword">if</span>(sys_rst_n == <span class="number">1&#x27;b0</span>)<span class="keyword">begin</span></span><br><span class="line">		<span class="comment">//赋值处1</span></span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">		<span class="comment">//赋值处2</span></span><br><span class="line">		<span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>
<p>仿真文件中，我们设置clk和in信号为阻塞赋值(同一时刻发生变化)，in信号和时钟沿完全同步变化：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">`<span class="keyword">timescale</span> 1ns / 1ns</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> tb_blocking();</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">reg</span>		sys_clk;</span><br><span class="line">	<span class="keyword">reg</span>		sys_rst_n;</span><br><span class="line">	<span class="keyword">reg</span>		[<span class="number">1</span>:<span class="number">0</span>]	in;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">wire</span>	[<span class="number">1</span>:<span class="number">0</span>]	out;	<span class="comment">//仿真引出wire量</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">		sys_clk 	= <span class="number">1&#x27;b1</span>;</span><br><span class="line">		sys_rst_n	&lt;= <span class="number">1&#x27;b0</span>;</span><br><span class="line">		in			&lt;= <span class="number">2&#x27;b00</span>;</span><br><span class="line">		</span><br><span class="line">		#<span class="number">20</span></span><br><span class="line">		sys_rst_n	&lt;= <span class="number">1&#x27;b1</span>;</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">always</span> 	#<span class="number">10</span>	sys_clk = ~sys_clk;</span><br><span class="line">	</span><br><span class="line">    <span class="keyword">always</span>	#<span class="number">20</span>	in = &#123;<span class="built_in">$random</span>&#125;%<span class="number">4</span>;	<span class="comment">//此处若为非阻塞赋值，in会延迟clk一拍</span></span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	blocking	blocking_inst0(</span><br><span class="line">	</span><br><span class="line">	<span class="variable">.sys_clk</span>(sys_clk),</span><br><span class="line">	<span class="variable">.sys_rst_n</span>(sys_rst_n),</span><br><span class="line">	<span class="variable">.in</span>(in),</span><br><span class="line">	</span><br><span class="line">	<span class="variable">.out</span>(out)</span><br><span class="line">    );</span><br><span class="line"><span class="keyword">endmodule</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="阻塞赋值">阻塞赋值</h3>
<p>对应的电路结构与触发沿没关系，只与输入电平变化有关系。<strong>对于同一个begin-end代码块内的语句，同一时刻只执行一条语句，其按先后顺序执行。</strong></p>
<p><strong>注：阻塞赋值不能操作wire型数据。</strong></p>
<p>对于如下代码：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span>;</span><br><span class="line">b = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">   a = b+<span class="number">1</span>;</span><br><span class="line">   b = a+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p><strong>对应的电路在计算完a值之后计算下一个b值，右侧数值变化时左侧立刻变化。</strong></p>
<p>本节头部的模块中，若赋值处分别为：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">in_reg 	= 	<span class="number">2</span>‘b00;</span><br><span class="line">out		=	<span class="number">2</span>‘b00;</span><br><span class="line"></span><br><span class="line">in_reg 	= 	in;</span><br><span class="line">out		=	in_reg;</span><br></pre></td></tr></table></figure>
<p>其RTL电路为D触发器。</p>
<div>
<center>
<img src="image-20251125233723518.png" alt="image can't load." style="zoom:55%"> <br> always块内阻塞赋值RTL
</center>
</div>
<p>仿真波形如下：</p>
<div>
<center>
<img src="image-20251126010426003.png" alt="image can't load." style="zoom:75%"> <br> 阻塞赋值RTL
</center>
</div>
<p>显然，in_reg和out之间并无延迟，数据同步变化。</p>
<h3 id="非阻塞赋值">非阻塞赋值</h3>
<p>非阻塞赋值对应电路通常与<strong>时钟沿</strong>有关，只有在触发沿的时刻才进行非阻塞赋值。同一个begin-end块中的语句并行执行，上一句的值改变仅会影响下一拍的输入。</p>
<p><strong>注：非阻塞赋值只能对reg量赋值，用于always和initial语句中，不可用于assign语句。</strong></p>
<p>对于同样的代码：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span>;</span><br><span class="line">b = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">   a &lt;= b+<span class="number">1</span>;</span><br><span class="line">   b &lt;= a+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ul>
<li>赋值开始时：计算语句右侧值</li>
<li>赋值结束时：更新左侧值，即T时刻上升沿时a的变化情况不影响计算b的值，会体现到到下一拍</li>
</ul>
<p>本节头部的模块中，若赋值处分别为非阻塞赋值：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">in_reg 	&lt;= 	<span class="number">2</span>‘b00;</span><br><span class="line">out		&lt;=	<span class="number">2</span>‘b00;</span><br><span class="line"></span><br><span class="line">in_reg 	&lt;= 	in;</span><br><span class="line">out		&lt;=	in_reg;</span><br></pre></td></tr></table></figure>
<p>其RTL电路为两个D触发器串联，从电路更容易理解滞后一拍：</p>
<div>
<center>
<img src="image-20251126000431448.png" alt="image can't load." style="zoom:50%"> <br> 非阻塞赋值RTL
</center>
</div>
<div>
<center>
<img src="image-20251126005538068.png" alt="image can't load." style="zoom:75%"> <br> 非阻塞赋值仿真波形
</center>
</div>
<p>RTL电路中in_reg和out之间多出一个上升沿D触发器，因此输出滞后一拍。查看<a href="#D触发器">D触发器</a>。</p>
<h1 id="附录">附录</h1>
<p>阻塞非阻塞赋值语句综合后的差异为一个D触发器，触发方式为边沿触发。</p>
<p>从背景上说，触发器的目的是增加电路“状态”，因为组合逻辑电路能传输信号–输出跟随输入变化，永远只反映现在的状态，即电路输出与上一时刻“状态”无关，</p>
<p>以单一的与、或、非门电路为例，其当前的输入直接影响当前的输出。而“状态”的前提是记忆，或者说保持，其中最简单的记忆电路是两个反相器串联：</p>
<div>
<center>
<img src="image-20251130235512504.png" alt="image can't load." style="zoom:50%"> <br> 保持电路
</center>
</div>
<p>以上电路：</p>
<ul>
<li>V<sub>in</sub>与V<sub>out</sub>同相</li>
<li>V<sub>in</sub>的值取决于上一拍状态</li>
</ul>
<p>假设，首个反相器输出Q，则第二个输出Q
<sup>’</sup>。其端口电压传输特性如下，三个工作点0(a)、1(c)和亚稳态(b)，稳定在a、c两点。</p>
<div>
<center>
<img src="image-20251201000949737.png" alt="image can't load." style="zoom:50%"> <br> 反相器输出特性
</center>
</div>
<h2 id="sr触发器">SR触发器</h2>
<p>在具备保持功能的反相器电路基础上，但其缺少外部输入。将非门替换为与非门或者或非门可增加一个输入量，如图a，当v<sub>11</sub>=v<sub>12</sub>=0时，与上图一致。</p>
<blockquote>
<p>如果不用与非门替换反相器，则在改变数值时，需要断开上下两部分连接，并改变数据后重新连接</p>
</blockquote>
<div>
<center>
<img src="image-20251201001428537.png" alt="image can't load." style="zoom:50%"> <br> SR触发器或非门电路
</center>
</div>
<p>按照图b进行符号定义，对于或非门，1信号为决定信号(与门0信号为决定信号)。因此有以下真值表：</p>
<table>
<thead>
<tr>
<th style="text-align: center;">R<sub>D</sub></th>
<th style="text-align: center;">S<sub>D</sub></th>
<th style="text-align: center;">Q<sup>n+1</sup></th>
<th style="text-align: center;">Q’<sup>n+1</sup></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">Q<sup>N</sup></td>
<td style="text-align: center;">Q’<sup>N</sup></td>
</tr>
<tr>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0 <sup>*</sup></td>
<td style="text-align: center;">0<sup>*</sup></td>
</tr>
</tbody>
</table>
<p>*：当R<sub>D</sub>、S<sub>D</sub>同时为1时，能输出最终的结果。错误出现在当11同时消失为00时，理论上Q和Q’将同时输出1，但由于竞争-冒险的情况，两个门电路传输时间并不总是相同，因此最终状态可能是Q=1,将下方门Q’拉低为0，也许反之。此同时切换为00的状态为不定态，因此不建议出现。</p>
<p>根据真值表，称其为Set-Reset触发器。另一种形式是与非门电路，其R<sub>D</sub>’和S<sub>D</sub>’低电平有效(0为决定信号)，两者不能同为0。</p>
<p>再进一步，此时R、S信号在部分时刻影响输出，在输入端R、D增加与非门的Load信号，则有：</p>
<div>
<center>
<img src="image-20251201112507974.png" alt="image can't load." style="zoom:50%"> <br> SR同步电平触发器
</center>
</div>
<p>(a)图后端为R<sub>D</sub>’、S<sub>D</sub>’有效的SR触发器，增设前端的与非门后输入反相：</p>
<ul>
<li>CLK = 1时，电路为实时跟随的SR触发器</li>
<li>CLK = 0时，输入端变化被屏蔽</li>
</ul>
<p>再进一步，后端SR触发器若接异步输入（低电平有效），可同时具备同步异步功能。</p>
<div>
<center>
<img src="image-20251201113020891.png" alt="image can't load." style="zoom:50%"> <br> SR同步异步电平触发器
</center>
</div>
<p>电平触发器问题是，不易使得CLK=1时恰好SR输入变化。因此，在其基础上使用两个相同的SR触发器串联，但使用反相的装载信号CLK。</p>
<div>
<center>
<img src="image-20251201115138968.png" alt="image can't load." style="zoom:50%"> <br> SR主从触发器
</center>
</div>
<ul>
<li>CLK=1时，主触发器任意变化，从触发器屏蔽输入</li>
<li>CLK=0时，主触发器根据最后时刻SR输出并保持Q<sub>m</sub>，Q<sub>m</sub>作为从触发器的输入，输出稳定的Q值。</li>
</ul>
<p>因此，整个电路从时刻跟随SR变为仅在CLK下降沿时刻变化。其真值表如下：</p>
<table>
<thead>
<tr>
<th style="text-align: center;">CLK</th>
<th style="text-align: center;">S</th>
<th style="text-align: center;">R</th>
<th style="text-align: center;">Q<sup>N+1</sup></th>
<th style="text-align: center;">Q’<sup>N+1</sup></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">Q<sup>N</sup></td>
<td style="text-align: center;">Q’<sup>N</sup></td>
</tr>
<tr>
<td style="text-align: center;">↓</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">Q<sup>N</sup></td>
<td style="text-align: center;">Q’<sup>N</sup></td>
</tr>
<tr>
<td style="text-align: center;">↓</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
</tr>
<tr>
<td style="text-align: center;">↓</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
</tr>
<tr>
<td style="text-align: center;">↓</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1*</td>
<td style="text-align: center;">1*</td>
</tr>
</tbody>
</table>
<p>触发方式变为下降沿触发，但仍然受限于SR=0的约束条件。由此引出JK触发器。</p>
<h2 id="d触发器">D触发器</h2>
<p>上方的SR触发器有两个主要特点：</p>
<ul>
<li>具备保持功能（输入为00时）</li>
<li>CLK可决定分段加载SR的值</li>
</ul>
<p>但也存在以下问题：</p>
<ol type="1">
<li>受限于约束条件SR=0，否则可能出现不定态</li>
<li>CLK=1时，Q仍根据SR值时刻变化</li>
</ol>
<p><strong>为解决以上问题1，提出由同一信号决定SR，原始信号+反相信号。此方式SR恒等于0，但弊端是SR不可同时为0，即不具备保持功能。</strong></p>
<div>
<center>
<img src="image-20251201113930888.png" alt="image can't load." style="zoom:50%"> <br> 电平触发D触发器
</center>
</div>
<p>其真值表简化为：</p>
<table>
<thead>
<tr>
<th style="text-align: center;">CLK</th>
<th style="text-align: center;">D</th>
<th style="text-align: center;">Q<sup>N+1</sup></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">0</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">Q<sup>N</sup></td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
</tr>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
</tr>
</tbody>
</table>
<p>参考主从SR触发器，可设计边沿触发的D触发器，如下为CLK上升沿触发D触发器：</p>
<ul>
<li>CLK=0，前开后闭</li>
<li>CLK=1，前闭后开</li>
</ul>
<div>
<center>
<img src="image-20251201124709370.png" alt="image can't load." style="zoom:50%"> <br> 边沿触发D触发器
</center>
</div>
<p>其电路符号为：</p>
<div>
<center>
<img src="image-20251201125318946.png" alt="image can't load." style="zoom:75%"> <br> 上升触发D触发器电路符号
</center>
</div>
<p><strong>边沿D触发器、主从SR触发器、主从JK触发器的性质都是在下一拍反映上一拍的数据，“记忆”功能体现滞后一拍的特性。</strong></p>
<h2 id="jk触发器">JK触发器</h2>
<p>基于主从SR触发器，为解决SR恒为0的约束条件，提出将从触发器输出分别接入主触发器输入端，称为JK触发器。</p>
<div>
<center>
<img src="image-20251201120750531.png" alt="image can't load." style="zoom:50%"> <br> JK主从触发器
</center>
</div>
<p>其有以下特点：</p>
<ul>
<li>下降沿有效</li>
<li>Q<sup>N</sup>影响从触发器Q<sup>N+1</sup></li>
<li>Q<sup>N</sup>影响主触发器输入，进而影响Q<sub>m</sub><sup>N+1</sup></li>
</ul>
<p>假设电路处于稳定状态Q<sup>N</sup>=1，若此时JK=1，则输入端JK与Q<sup>N</sup>和Q’<sup>N</sup>分别相与等效（主触发器等效为SR电平触发器）后的输入为01，Q<sup>N+1</sup>被复位。若Q<sup>N</sup>=0，则输出被置1。即：</p>
<ol type="1">
<li><p>Q<sup>N</sup>=1，屏蔽置位端J，否则屏蔽复位端Ｋ</p></li>
<li><p>JK主从等效于去除约束后的SR主从</p></li>
</ol>
<p><strong>根据第1点，显然同一时钟周期内，Qm最多翻转一次。</strong></p>
<p>仍以Q<sup>N</sup>=1为例，主触发器屏蔽J后的等效JK仅有两种情况00、01，即Q<sub>m</sub><sup>N+1</sup>保持或输出0，因此Q<sup>N+1</sup>可能保持或翻转。</p>
<blockquote>
<p>因此，如果在CLK=1时，JK输入保持，则只观察下降沿时JK的值。若JK未被屏蔽的信号出现翻转，则输出Q<sup>N+1</sup>必定翻转：</p>
<ul>
<li>Q<sup>N</sup>=1时，K翻转</li>
<li>Q<sup>N</sup>=0时，J翻转</li>
</ul>
</blockquote>
<div>
<center>
<img src="image-20251201020744383.png" alt="image can't load." style="zoom:75%"> <br> JK触发器输出
</center>
</div>
<h1 id="参考资料">参考资料</h1>
<p>[1] <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV139tweXEzT/?spm_id_from=333.1007.top_right_bar_window_custom_collection.content.click&amp;vd_source=5465b0f4790ebae45362caa6519f3b79">野火
FPGA ZYNQ-7000系列FPGA Verilog开发实战指南 | 哔哩哔哩</a></p>
<p>[2] <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV15V4y1c7wa?spm_id_from=333.788.videopod.episodes&amp;vd_source=5465b0f4790ebae45362caa6519f3b79&amp;p=26">王红《数字电子技术基础》
触发器逻辑功能的分类 | 哔哩哔哩</a></p>
<p align="center">
————————— End —————————
</p>
<blockquote>
<p><em>经历是过程，经验是目的。</em></p>
</blockquote>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>如果你愿意请我喝咖啡~</div>
  <button>
    赞赏
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.jpg" alt="Youngs 微信">
        <span>微信</span>
      </div>
      <div>
        <img src="/images/alipay.jpg" alt="Youngs 支付宝">
        <span>支付宝</span>
      </div>

  </div>
</div>

          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>Youngs
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/" title="FPGA-03-Verilog语法">https://microprism.github.io/2025/11/24/FPGA-03-Verilog_Syntax/</a>
  </li>
  <li class="post-copyright-license">
      <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/FPGA/" rel="tag"># FPGA</a>
              <a href="/tags/Verilog/" rel="tag"># Verilog</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2025/09/15/DS-03-Stack_and_Queue/" rel="prev" title="数据结构-03-栈与队列">
                  <i class="fa fa-angle-left"></i> 数据结构-03-栈与队列
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2025/12/01/FPGA-04-Verilog_Syntax/" rel="next" title="FPGA-04-Verilog语法">
                  FPGA-04-Verilog语法 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">



  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2026</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Youngs</span>
  </div>







<div>
<span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
<script>
    var now = new Date(); 
    function createtime() { 
        var grt= new Date("04/09/2025 00:00:00");//在此处修改你的建站时间
        now.setTime(now.getTime()+250); 
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
        document.getElementById("timeDate").innerHTML = "已运行 "+dnum+" 天 "; 
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
    } 
setInterval("createtime()",250);
</script>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div><script color="0,0,255" opacity="0.5" zIndex="-1" count="150" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>
    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>

  <a href="https://github.com/MicroPrism" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
